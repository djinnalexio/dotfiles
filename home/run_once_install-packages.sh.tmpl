#!/usr/bin/sh

# Install shell programs
sudo dnf -y install \
    lsd \
    conda \
    cowsay \
    lolcat \
    fortune-mod \
    figlet \
    neofetch \
    git \
    git-lfs \
    neovim \
    npm \
    pip

# Setup shell programs
git-lfs install
npm i -g gitmoji-cli
sudo pip3 install powerline-shell
sh -c 'curl -fLo "${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs \
       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'

{{- if (and (ne .chezmoi.username "root") (.shell.zshenabled)) }}
# User not root and ZSH enabled
sudo dnf -y install zsh autojump
sudo usermod -s $(which zsh) $USER
{{- end }}

{{- if (and (ne .chezmoi.username "root") (.shell.guienabled)) }}
# User not root and GUI apps enabled
sudo dnf -y install \
    kitty \
    terminator \
    ulauncher

sudo pip install evdev -U
sudo pip install --no-binary :all: git+https://github.com/sezanzeb/input-remapper.git
sudo systemctl enable input-remapper
sudo systemctl restart input-remapper
{{- end }}
